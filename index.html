<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>Portfolio</title>
  </head>
  <body>
    <div class="container">
      <h1>Hello This is me Neeraj</h1>
      <h3>I know</h3>
      <ul class="skills-ul"></ul>
      <div class="github">
        <h4>My Github Profile</h4>
      </div>
      <button class="btn btn-dark">
        click me something amazing will happen
      </button>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script>
      const ul = document.querySelector(".skills-ul");
      const skills = [
        "Python",
        "Django",
        "Java Script",
        "React",
        "Node",
        "PostgreSQl",
      ];
      skills.map((skill) => {
        const li = document.createElement("li");
        li.innerHTML += `<li>${skill}</li> <br/>`;
        ul.appendChild(li);
      });
      const btn = document.querySelector(".btn");

      fetch("https://api.github.com/users/Neeraj319")
        .then((res) => {
          res
            .json()
            .then((data) => {
              const github = document.querySelector(".github");
              const username = document.createElement("h4");
              username.innerText = `username : ${data.login}`;
              function getAllRepo() {
                console.log("i am called");
                fetch(data.repos_url).then((res) => {
                  res
                    .json()
                    .then((repoData) => {
                      // console.log(repoData);
                      for (let repo of repoData) {
                        console.log(repo);
                        const link = document.createElement("a");
                        link.classList.add("my-3");
                        link.innerHTML = `${repo["name"]} <br/>`;
                        link.href = repo["html_link"];
                        github.appendChild(link);
                      }
                    })
                    .catch((err) => console.log(err));
                });
              }
              getAllRepo();
              github.appendChild(username);
            })
            .catch((err) => console.log(err))
            .catch((err) => console.log(err));
        })
        .catch((err) => console.log(err));
      btn.addEventListener("click", (e) => {
        const div = document.querySelector(".container");
        window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ", "_blank");

        div.innerText = "Got Rick Rolled lol";
      });
    </script>
  </body>
</html>
